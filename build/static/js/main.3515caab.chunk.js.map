{"version":3,"sources":["reducer/actions.js","reducer/reducer.js","context/context.js","components/SearchForm.js","components/Button.js","components/Story.js","App.js","index.js"],"names":["SET_LOADING","SET_STORIES","REMOVE_STORY","HANDLE_PAGE","HANDLE_SEARCH","reducer","state","action","type","loading","datas","payload","console","log","stories","hits","nbPages","nextPage","page","prevPage","query","valueOfInput","filter","story","objectID","Error","AppContext","React","createContext","initialState","AppProvider","children","useReducer","dispatch","fetchNews","url","a","fetch","res","json","data","useEffect","Provider","value","handlePage","decreaseOrIncrease","handleSearch","handleRemove","id","useGlobalContext","useContext","SearchForm","className","onSubmit","e","preventDefault","onChange","target","Button","disabled","onClick","Stories","map","title","points","num_comments","author","href","rel","App","Story","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4NAAaA,EAAc,cACdC,EAAc,cACdC,EAAe,eACfC,EAAc,cACdC,EAAgB,gBCiEdC,EA7DC,SAACC,EAAOC,GACtB,OAAQA,EAAOC,MACb,KAAKR,EACH,OAAO,2BACFM,GADL,IAEEG,SAAS,IAIb,KAAKR,EACH,IAAIS,EAAQH,EAAOI,QAGnB,OAFAC,QAAQC,IAAIH,GAEL,2BACFJ,GADL,IAEEQ,QAASJ,EAAMK,KACfC,QAASN,EAAMM,QACfP,SAAS,IAIb,KAAKN,EACH,GAAuB,QAAnBI,EAAOI,QAAmB,CAC5B,IAAIM,EAAWX,EAAMY,KAAO,EAI5B,OAHID,EAAWX,EAAMU,QAAU,IAC7BC,EAAW,GAEN,2BAAKX,GAAZ,IAAmBY,KAAMD,IAE3B,GAAuB,QAAnBV,EAAOI,QAAmB,CAC5B,IAAIQ,EAAWb,EAAMY,KAAO,EAI5B,OAHIC,EAAW,IACbA,EAAWb,EAAMU,QAAU,GAEtB,2BAAKV,GAAZ,IAAmBY,KAAMC,IAG7B,KAAKf,EACH,IAAIgB,EAAQb,EAAOI,QACnB,OAAO,2BAAKL,GAAZ,IAAmBe,aAAcD,EAAOF,KAAM,IAGhD,KAAKhB,EAIH,OAAO,2BACFI,GADL,IAEEQ,QAASR,EAAMQ,QAAQQ,QACrB,SAACC,GAAD,OAAWA,EAAMC,WAAajB,EAAOI,aAI3C,IAAK,QACH,MAAM,IAAIc,MAAJ,wBAA2BlB,EAAOI,QAAlC,kBAGR,QACE,OAAOL,I,OCxDPoB,EAAaC,IAAMC,gBACnBC,EAAe,CACnBpB,SAAS,EACTK,QAAS,GACTI,KAAM,EACNF,QAAS,EACTK,aAAc,SAGVS,EAAc,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACrB,EAA0BC,qBAAW3B,EAASwB,GAA9C,mBAAOvB,EAAP,KAAc2B,EAAd,KAGMC,EAAS,uCAAG,WAAOC,GAAP,iBAAAC,EAAA,6DAChBH,EAAS,CAAEzB,KAAMR,IADD,kBAGIqC,MAAMF,GAHV,cAGRG,EAHQ,gBAIKA,EAAIC,OAJT,OAIRC,EAJQ,OAKdP,EAAS,CAAEzB,KAAMP,EAAaU,QAAS6B,IALzB,kDAOdP,EAAS,CAAEzB,KAAM,SAAUG,QAAQ,EAAD,KAPpB,0DAAH,sDA8Bf,OAHA8B,qBAAU,WACRP,EAAU,GAAD,OAjCQ,wCAiCR,iBAAyB5B,EAAMe,aAA/B,iBAAoDf,EAAMY,SAClE,CAACZ,EAAMe,aAAcf,EAAMY,OAE5B,cAACQ,EAAWgB,SAAZ,CACEC,MAAK,2BAAOrC,GAAP,IAAcsC,WApBJ,SAACC,GAClBZ,EAAS,CAAEzB,KAAML,EAAaQ,QAASkC,KAmBNC,aAfd,SAACzB,GACpBY,EAAS,CAAEzB,KAAMJ,EAAeO,QAASU,KAcM0B,aAX5B,SAACC,GACpBpC,QAAQC,IAAImC,GACZf,EAAS,CAAEzB,KAAMN,EAAcS,QAASqC,OAQxC,SAGGjB,KAKMkB,EAAmB,WAC9B,OAAOC,qBAAWxB,IC5CLyB,EAjBI,WACjB,MAAuCF,IAA/B5B,EAAR,EAAQA,aAAcyB,EAAtB,EAAsBA,aACtB,OACE,uBAAMM,UAAU,cAAcC,SAAU,SAACC,GAAD,OAAOA,EAAEC,kBAAjD,UACE,oDACA,uBACE/C,KAAK,OACL4C,UAAU,aACVT,MAAOtB,EACPmC,SAAU,SAACF,GACTR,EAAaQ,EAAEG,OAAOd,cCajBe,EAtBA,WACb,MAA+CT,IAAvCxC,EAAR,EAAQA,QAASS,EAAjB,EAAiBA,KAAMF,EAAvB,EAAuBA,QAAS4B,EAAhC,EAAgCA,WAChC,OACE,sBAAKQ,UAAU,gBAAf,UACE,wBAAQO,SAAUlD,EAASmD,QAAS,kBAAMhB,EAAW,QAArD,kBAGA,8BACG1B,EAAO,EADV,OACiBF,KAEjB,wBACE2C,SAAUlD,EACVmD,QAAS,WACPhB,EAAW,QAHf,sBCyBSiB,EAnCC,SAAC,GAAiB,IAAf/C,EAAc,EAAdA,QACTiC,EAAiBE,IAAjBF,aACR,OACE,mCACGjC,EAAQgD,KAAI,SAACvC,GACZ,IAAQwC,EAAuDxC,EAAvDwC,MAAO5B,EAAgDZ,EAAhDY,IAAK6B,EAA2CzC,EAA3CyC,OAAQC,EAAmC1C,EAAnC0C,aAAcC,EAAqB3C,EAArB2C,OAAQ1C,EAAaD,EAAbC,SAClD,OACE,0BAAS4B,UAAU,QAAnB,UACE,oBAAIA,UAAU,QAAd,SAAuBW,IACvB,oBAAGX,UAAU,OAAb,UACGY,EADH,IACW,iCAAOE,EAAP,SADX,IACqCD,KAErC,gCACE,mBACEE,KAAMhC,EACNiB,UAAU,YACVK,OAAO,SACPW,IAAI,sBAJN,uBAQA,wBACEhB,UAAU,aACVQ,QAAS,kBAAMb,EAAavB,IAF9B,yBAd4BA,SCY3B6C,MAlBf,WACE,MAA6BpB,IAArBxC,EAAR,EAAQA,QAASK,EAAjB,EAAiBA,QAEjB,OACE,qCACE,cAAC,EAAD,IACA,cAAC,EAAD,IACCL,GACC,qBAAK2C,UAAU,UAAf,SACE,cAACkB,EAAD,CAAOxD,QAASA,MAInBL,EAAU,qBAAK2C,UAAU,YAAmB,SCZnDmB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,W","file":"static/js/main.3515caab.chunk.js","sourcesContent":["export const SET_LOADING = \"SET_LOADING\";\r\nexport const SET_STORIES = \"SET_STORIES\";\r\nexport const REMOVE_STORY = \"REMOVE_STORY\";\r\nexport const HANDLE_PAGE = \"HANDLE_PAGE\";\r\nexport const HANDLE_SEARCH = \"HANDLE_SEARCH\";\r\n","import {\r\n  SET_LOADING,\r\n  SET_STORIES,\r\n  REMOVE_STORY,\r\n  HANDLE_PAGE,\r\n  HANDLE_SEARCH,\r\n} from \"./actions\";\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case SET_LOADING: {\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    }\r\n\r\n    case SET_STORIES: {\r\n      let datas = action.payload;\r\n      console.log(datas);\r\n\r\n      return {\r\n        ...state,\r\n        stories: datas.hits,\r\n        nbPages: datas.nbPages,\r\n        loading: false,\r\n      };\r\n    }\r\n\r\n    case HANDLE_PAGE:\r\n      if (action.payload === \"inc\") {\r\n        let nextPage = state.page + 1;\r\n        if (nextPage > state.nbPages - 1) {\r\n          nextPage = 0;\r\n        }\r\n        return { ...state, page: nextPage };\r\n      }\r\n      if (action.payload === \"dec\") {\r\n        let prevPage = state.page - 1;\r\n        if (prevPage < 0) {\r\n          prevPage = state.nbPages - 1;\r\n        }\r\n        return { ...state, page: prevPage };\r\n      }\r\n\r\n    case HANDLE_SEARCH: {\r\n      let query = action.payload;\r\n      return { ...state, valueOfInput: query, page: 0 };\r\n    }\r\n\r\n    case REMOVE_STORY: {\r\n      // let newStories = state.stories.filter((data) => {\r\n      //   return data.objectID !== action.payload;\r\n      // });\r\n      return {\r\n        ...state,\r\n        stories: state.stories.filter(\r\n          (story) => story.objectID !== action.payload\r\n        ),\r\n      };\r\n    }\r\n    case \"ERROR\": {\r\n      throw new Error(`no mathching \"${action.payload}\" action type`);\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default reducer;\r\n","import React, { useState, useContext, useEffect, useReducer } from \"react\";\r\nimport {\r\n  SET_LOADING, //api\r\n  SET_STORIES, //useState olur icine apiden geleni atiriq\r\n  REMOVE_STORY, //remove butonu\r\n  HANDLE_PAGE,\r\n  HANDLE_SEARCH,\r\n} from \"../reducer/actions\";\r\nimport reducer from \"../reducer/reducer\";\r\n\r\nconst AppContext = React.createContext();\r\nconst initialState = {\r\n  loading: true,\r\n  stories: [],\r\n  page: 0,\r\n  nbPages: 0,\r\n  valueOfInput: \"react\",\r\n};\r\nconst API_ENDPOINT = \"https://hn.algolia.com/api/v1/search?\";\r\nconst AppProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  //first we need fetch the news from api\r\n  const fetchNews = async (url) => {\r\n    dispatch({ type: SET_LOADING });\r\n    try {\r\n      const res = await fetch(url);\r\n      const data = await res.json();\r\n      dispatch({ type: SET_STORIES, payload: data });\r\n    } catch (error) {\r\n      dispatch({ type: \"ERRORR\", payload: error });\r\n    }\r\n  };\r\n\r\n  //click to the button to change pages number\r\n  const handlePage = (decreaseOrIncrease) => {\r\n    dispatch({ type: HANDLE_PAGE, payload: decreaseOrIncrease });\r\n  };\r\n\r\n  //searching value of input\r\n  const handleSearch = (valueOfInput) => {\r\n    dispatch({ type: HANDLE_SEARCH, payload: valueOfInput });\r\n  };\r\n\r\n  const handleRemove = (id) => {\r\n    console.log(id);\r\n    dispatch({ type: REMOVE_STORY, payload: id });\r\n  };\r\n\r\n  //whent page and inp value changes\r\n  useEffect(() => {\r\n    fetchNews(`${API_ENDPOINT}query=${state.valueOfInput}&page=${state.page}`);\r\n  }, [state.valueOfInput, state.page]);\r\n  return (\r\n    <AppContext.Provider\r\n      value={{ ...state, handlePage, handleSearch, handleRemove }}\r\n    >\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n};\r\n// make sure use\r\nexport const useGlobalContext = () => {\r\n  return useContext(AppContext);\r\n};\r\n\r\nexport { AppContext, AppProvider };\r\n\r\n/*\r\n\r\n// const getValueFromLs = () => {\r\n//   let value = \"batman\";\r\n//   if (localStorage.getItem(\"searchValue\")) {\r\n//     value = localStorage.getItem(\"searchValue\");\r\n//   }\r\n//   return value;\r\n// };\r\n\r\n\r\n  // useEffect(() => {\r\n  //   localStorage.setItem(\"searchValue\", query);\r\n  // }, [query]);\r\n*/\r\n","import { useGlobalContext } from \"../context/context\";\r\n\r\nconst SearchForm = () => {\r\n  const { valueOfInput, handleSearch } = useGlobalContext();\r\n  return (\r\n    <form className=\"search-form\" onSubmit={(e) => e.preventDefault()}>\r\n      <h2>search Hacker News</h2>\r\n      <input\r\n        type=\"text\"\r\n        className=\"form-input\"\r\n        value={valueOfInput}\r\n        onChange={(e) => {\r\n          handleSearch(e.target.value);\r\n        }}\r\n      />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SearchForm;\r\n","import React from \"react\";\r\nimport { useGlobalContext } from \"../context/context\";\r\n\r\nconst Button = () => {\r\n  const { loading, page, nbPages, handlePage } = useGlobalContext();\r\n  return (\r\n    <div className=\"btn-container\">\r\n      <button disabled={loading} onClick={() => handlePage(\"dec\")}>\r\n        prev\r\n      </button>\r\n      <p>\r\n        {page + 1} of {nbPages}\r\n      </p>\r\n      <button\r\n        disabled={loading}\r\n        onClick={() => {\r\n          handlePage(\"inc\");\r\n        }}\r\n      >\r\n        next\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\nimport { useGlobalContext } from \"../context/context\";\r\n\r\nconst Stories = ({ stories }) => {\r\n  const { handleRemove } = useGlobalContext();\r\n  return (\r\n    <>\r\n      {stories.map((story) => {\r\n        const { title, url, points, num_comments, author, objectID } = story;\r\n        return (\r\n          <article className=\"story\" key={objectID}>\r\n            <h4 className=\"title\">{title}</h4>\r\n            <p className=\"info\">\r\n              {points} <span>{author} | </span> {num_comments}\r\n            </p>\r\n            <div>\r\n              <a\r\n                href={url}\r\n                className=\"read-link\"\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n              >\r\n                read more\r\n              </a>\r\n              <button\r\n                className=\"remove-btn\"\r\n                onClick={() => handleRemove(objectID)}\r\n              >\r\n                remove\r\n              </button>\r\n            </div>\r\n          </article>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Stories;\r\n","import SearchForm from \"./components/SearchForm\";\r\nimport Button from \"./components/Button\";\r\nimport { useGlobalContext } from \"./context/context\";\r\nimport Story from \"./components/Story\";\r\nfunction App() {\r\n  const { loading, stories } = useGlobalContext();\r\n\r\n  return (\r\n    <>\r\n      <SearchForm />\r\n      <Button />\r\n      {loading || (\r\n        <div className=\"stories\">\r\n          <Story stories={stories} />\r\n        </div>\r\n      )}\r\n\r\n      {loading ? <div className=\"loading\"></div> : null}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./css/index.css\";\r\nimport App from \"./App\";\r\nimport { AppProvider } from \"./context/context\";\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AppProvider>\r\n      <App />\r\n    </AppProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}